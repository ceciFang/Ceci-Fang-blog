---
title: 创建项目
date: 2022-02-23 10:18:26
permalink: /pages/339c0d/
categories:
  - 大前端
  - Nodejs
tags:
  -
---

# 创建项目

- 创建文件夹 node-tmp
- git init 初始化 node-tmp 为 git 的本地仓库

```sh
E:\ceci\前端全家桶学习\node-test>git init
Initialized empty Git repository in E:/ceci/前端全家桶学习/node-test/.git/
```

- 配置 packge.json 文件

```sh
E:\ceci\前端全家桶学习\node-test>npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help init` for definitive documentation on these fields
and exactly what they do.

Use `npm install <pkg>` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
package name: (test) node-test // 文件名
version: (1.0.0) // 版本
description: 学习nodejs // 说明
entry point: "index.js" // main 里面的路径
test command: // 测试命令
git repository: //远程仓库路径
keywords:
author: ceci
license: (ISC) MIT
About to write to E:\ceci\前端全家桶学习\node-test\package.json:

{
  "name": "node-test",
  "version": "1.0.0",
  "description": "学习nodejs",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "ceci",
  "license": "MIT"
}


Is this OK? (yes)
```

## 创建 server.js

- 在 node-tmp 目录下创建文件夹 src
- 在文件夹 src 里面创建一个文件 server.js

```js
// server.js

const http = require('http')
const sever = http.createServer((req, res) => {
  res.end('hello world!')
})
sever.listen(3000, () => {
  console.log('服务器已启动')
})
```

- 修改 package.json 里面的"main"路径

```json
{
  "name": "node-test",
  "version": "1.0.0",
  "description": "学习nodejs",
  // "main": "index.js",
  "main": "src/sever.js"
}
```

## 配置.gititnore

- 在 node-tmp 文件夹下面创建.gitignore 文件

```test
// .gitignore文件
node_modules
*.log
```

## 配置 start 脚本

- 打开 packge.json 文件

把`"scripts"{"test": "echo \"Error: no test specified\" && exit 1"}`改成`"scripts": { "start": "node src/sever.js",}`

```json
"scripts": {
    // "test": "echo \"Error: no test specified\" && exit 1"
      "start": "node src/sever.js",
  },
```

- 启动项目命令

```sh
# 两个命令都可以
node src/server.js
npm run start
```

## 安装 prettiner 依赖模块,用于格式化代码

- 使用命令 `npm i prettier -D` 安装 prettiner

```sh
npm i prettier -D
```

在 package.json 文件里面会出现以下代码表示安装成功:

```JSON
 "devDependencies": {
    "prettier": "^2.5.1"
  }
```

## 使用 prettiner 格式化代码

- 配置 prettiner

```sh
.\node_modules\.bin\prettier --write "src/**/*.js"
```

"src/\*_/_.js"表示的是一个文件的规则，是在 src 目录下的任意文件都可以的意思。

- 使用 npm run format 命令格式化

打开 package.json 文件

```json
"scripts": {
    "start": "node src/server.js",
    "format": "prettier --write \"src/**/*.js\"" // 增加这行代码
  },
```

## git commit 提交代码

略
